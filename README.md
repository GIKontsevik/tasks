task1: тут нужно писать какие-то комментарии к коду? Видел что есть какие-то еще более сложные решения (и более быстрые). Думаю, лучше не лезть? 
task2: не знаю какой из вариантов лучше. Первый чуть быстрее, но второй вроде кажется более удобочитаемым.
task3: в словаре для ключей-открывающих скобок тоже определяю содержание (хотя потом нигде не использую). Это пох или можно как-то лучше?
